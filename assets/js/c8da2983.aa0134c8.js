"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[255],{3008:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>o});var i=n(4848),r=n(8453);const s={sidebar_position:3,slug:"/lab/02"},a="02 - Intents",c={id:"lab/02/index",title:"02 - Intents",description:"An Intent is a messaging object you can use to request an action from another app component. Although intents facilitate communication between components in several ways, there are three fundamental use cases:",source:"@site/docs/lab/02/index.md",sourceDirName:"lab/02",slug:"/lab/02",permalink:"/docs/lab/02",draft:!1,unlisted:!1,editUrl:"https://github.com/UPB-FILS-MDAD/upb-fils-mdad.github.io/edit/main/docs/lab/02/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,slug:"/lab/02"},sidebar:"tutorialSidebar",previous:{title:"01 - Layouts",permalink:"/docs/lab/01"},next:{title:"03 - Services",permalink:"/docs/lab/03"}},d={},o=[{value:"Starting an activity",id:"starting-an-activity",level:3},{value:"Starting a service",id:"starting-a-service",level:3},{value:"Delivering a broadcast",id:"delivering-a-broadcast",level:3},{value:"Intent Resolution",id:"intent-resolution",level:2},{value:"Intent filters",id:"intent-filters",level:3},{value:"Exercices",id:"exercices",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"02---intents",children:"02 - Intents"})}),"\n",(0,i.jsxs)(t.p,{children:["An ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Intent",children:"Intent"})," is a messaging object you can use to request an action from another ",(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/components/fundamentals#Components",children:"app component"}),". Although intents facilitate communication between components in several ways, there are three fundamental use cases:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Starting an activity"}),"\n",(0,i.jsx)(t.li,{children:"Starting a service"}),"\n",(0,i.jsx)(t.li,{children:"Delivering a broadcast"}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.p,{children:"The primary pieces of information in an intent are:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"action"})," -- The general action to be performed, such as ",(0,i.jsx)(t.code,{children:"ACTION_VIEW"}),", ",(0,i.jsx)(t.code,{children:"ACTION_EDIT"}),", ",(0,i.jsx)(t.code,{children:"ACTION_MAIN"}),", etc."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"data"})," -- The data to operate on, such as a person record in the contacts database, expressed as a Uri."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Some examples of action/data pairs are:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"ACTION_VIEW content://contacts/people/1"}),' -- Display information about the person whose identifier is "1".']}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"ACTION_DIAL content://contacts/people/1"})," -- Display the phone dialer with the person filled in."]}),"\n",(0,i.jsxs)(t.p,{children:["Here is a complete list of the attributes containted in the ",(0,i.jsx)(t.code,{children:"Intent"})," class:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Attribute"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Action"})}),(0,i.jsxs)(t.td,{children:["Specifies the general action to be performed, such as ",(0,i.jsx)(t.code,{children:"ACTION_VIEW"})," or ",(0,i.jsx)(t.code,{children:"ACTION_SEND"}),"."]}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"Intent.ACTION_VIEW"}),", ",(0,i.jsx)(t.code,{children:"Intent.ACTION_SEND "})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Data"})}),(0,i.jsxs)(t.td,{children:["The URI of the data that the intent is operating on, typically used with ",(0,i.jsx)(t.code,{children:"ACTION_VIEW"})," or ",(0,i.jsx)(t.code,{children:"ACTION_EDIT"}),"."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:'intent.data = Uri.parse("https://example.com")  '})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Category"})}),(0,i.jsxs)(t.td,{children:["Provides additional information about the action to be performed, like ",(0,i.jsx)(t.code,{children:"CATEGORY_DEFAULT"})," or ",(0,i.jsx)(t.code,{children:"CATEGORY_BROWSABLE"}),"."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"intent.addCategory(Intent.CATEGORY_DEFAULT)"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Component"})}),(0,i.jsxs)(t.td,{children:["Specifies the explicit target component (",(0,i.jsx)(t.em,{children:"Activity"}),", ",(0,i.jsx)(t.em,{children:"Service"}),", or ",(0,i.jsx)(t.em,{children:"BroadcastReceiver"}),") to handle the intent."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"intent.component = ComponentName(context, TargetActivity::class.java)"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Extras"})}),(0,i.jsx)(t.td,{children:"Key-value pairs for additional data, used to pass information between components."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:'intent.putExtra("KEY_NAME", "value")'})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Flags"})}),(0,i.jsx)(t.td,{children:"Instructions on how the intent should be handled, controlling activity launch modes, task management, etc."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK "})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Type"})}),(0,i.jsx)(t.td,{children:"Specifies the MIME type of the data in the intent."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:'intent.type = "image/*" '})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"Package"})}),(0,i.jsx)(t.td,{children:"Specifies the package name to restrict the intent to a specific app."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:'intent.setPackage("com.example.app")'})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.strong,{children:"ClipData"})}),(0,i.jsx)(t.td,{children:"Data related to a primary or secondary intent, typically for copy-paste or drag-and-drop functionality."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:'intent.clipData = ClipData.newUri(contentResolver, "Label", uri)'})})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"starting-an-activity",children:"Starting an activity"}),"\n",(0,i.jsxs)(t.p,{children:["You can start a new instance of an Activity by passing an Intent to ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Context#startActivity(android.content.Intent)",children:(0,i.jsx)(t.code,{children:"startActivity()"})}),". The Intent describes the activity to start and carries any necessary data."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Start Activity from current Activity"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'val intent = Intent(this, TargetActivity::class.java)\nintent.putExtra("KEY_NAME", "Your Data Here") \n//this data will be transmitted to the Target Activity\nstartActivity(intent)\n'})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Get data on Target Activity"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'val data = intent.getStringExtra("KEY_NAME")\n'})}),"\n",(0,i.jsx)(t.h3,{id:"starting-a-service",children:"Starting a service"}),"\n",(0,i.jsxs)(t.p,{children:["You can start a service to perform a one-time operation (such as downloading a file) by passing an Intent to ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Context#startService(android.content.Intent)",children:(0,i.jsx)(t.code,{children:"startService()"})}),". The Intent describes the service to start and carries any necessary data."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Starting a service from current activty"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'val myIntent = Intent(this, MyService::class.java)\nmyIntent.putExtra("EXTRA1", "https://example.com/path/to/file")\nmyIntent.putExtra("EXTRA2", "downloaded_file_name.ext")\nstartService(myIntent)\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'import android.app.IntentService\nimport android.content.Intent\n\nclass MyService : IntentService("MyService") {\n\n    override fun onHandleIntent(intent: Intent?) {\n        val fileUrl = intent?.getStringExtra("EXTRA1") ?: return\n        val fileName = intent.getStringExtra("EXTRA2") ?: "downloaded_file"\n\n        try { \n            //Do something with received data\n            Log.d("MyService", "Done!")\n\n        } catch (e: Exception) {\n            Log.e("MyService", "Error", e)\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:["With Android 5.0 (API level 21) and later, you can start a service with ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/app/job/JobScheduler",children:(0,i.jsx)(t.code,{children:"JobScheduler"})}),"."]})}),"\n",(0,i.jsx)(t.h3,{id:"delivering-a-broadcast",children:"Delivering a broadcast"}),"\n",(0,i.jsxs)(t.p,{children:["The system delivers various broadcasts for system events, such as when the system boots up or the device starts charging. You can deliver a broadcast to other apps by passing an Intent to ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Context#sendBroadcast(android.content.Intent)",children:(0,i.jsx)(t.code,{children:"sendBroadcast()"})})," or ",(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Context#sendOrderedBroadcast(android.content.Intent,java.lang.String)",children:(0,i.jsx)(t.code,{children:"sendOrderedBroadcast()"})}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'// Define a custom action for your broadcast\nconst val CUSTOM_ACTION = "com.example.MY_CUSTOM_BROADCAST"\n\n// Function to send the broadcast\nfun sendCustomBroadcast(context: Context) {\n    val intent = Intent(CUSTOM_ACTION)\n    intent.putExtra("EXTRA_DATA", "This is some extra data!")\n    context.sendBroadcast(intent)\n}\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:'import android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.util.Log\n\nclass MyBroadcastReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        if (intent.action == CUSTOM_ACTION) {\n            val extraData = intent.getStringExtra("EXTRA_DATA")\n            Log.d("MyBroadcastReceiver", "Received broadcast with data: $extraData")\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(t.h2,{id:"intent-resolution",children:(0,i.jsx)(t.a,{href:"https://developer.android.com/reference/android/content/Intent#intent-resolution",children:"Intent Resolution"})}),"\n",(0,i.jsxs)(t.p,{children:["There are two primary forms of intents you will use ",(0,i.jsx)(t.strong,{children:"Implicit intents"})," and ",(0,i.jsx)(t.strong,{children:"Explicit intents"}),"."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Feature"}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Implicit Intent"}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Explicit Intent"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Definition"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Specifies a general action, no specific target"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Targets a specific component or app"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Purpose"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Allows user/system to choose handler"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Directly calls a specific component"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Use Cases"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Share text, open URL"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Start internal activity, launch service"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"System Behavior"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Shows chooser if multiple apps can handle"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"Launches directly without user choice"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"intent-filters",children:"Intent filters"}),"\n",(0,i.jsxs)(t.p,{children:["When you use an implicit intent, the Android system finds the appropriate component to start by comparing the contents of the intent to the ",(0,i.jsx)(t.strong,{children:"intent filters"})," declared in the ",(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/topics/manifest/manifest-intro",children:"manifest file"})," of other apps on the device. If the intent matches an intent filter, the system starts that component and delivers it the ",(0,i.jsx)(t.code,{children:"Intent"})," object."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"alt text",src:n(8278).A+"",width:"858",height:"396"})}),"\n",(0,i.jsx)(t.p,{children:"Intent filters based on three aspects:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/topics/manifest/action-element",children:"Action"})," - at least one needs to be specified"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/topics/manifest/data-element",children:"Data"})," (both URI and data type) - 0 or more can be specified"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/topics/manifest/category-element",children:"Category"})," - 0 or more can be specified"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<activity android:name="ShareActivity" android:exported="false">\n    <intent-filter>\n        <action android:name="android.intent.action.SEND"/>\n        <category android:name="android.intent.category.DEFAULT"/>\n        <data android:mimeType="text/plain"/>\n    </intent-filter>\n</activity>\n'})}),"\n",(0,i.jsx)(t.h2,{id:"exercices",children:"Exercices"}),"\n",(0,i.jsxs)(t.p,{children:["Using the initial project structure from ",(0,i.jsx)(t.a,{href:"/docs/lab/01",children:"lab01"}),", add buttons for each of the follwing actions:"]}),"\n",(0,i.jsxs)(t.p,{children:["In ",(0,i.jsx)(t.strong,{children:"MainActivity"})]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Start a new activity which displays the calculated bmi along with some useful tips. (Calculate button)\n",(0,i.jsx)(t.img,{alt:"alt text",src:n(4737).A+"",width:"500",height:"603"})]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["In  ",(0,i.jsx)(t.strong,{children:"SecondActivity"})]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Share the BMI result as text to other apps, using an implicit intent. (share button)"}),"\n",(0,i.jsx)(t.li,{children:"Redirect the user to webpage about bmi.(info button)"}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"What type of Intent is used for each of the 3 buttons? (Implicit/Explicit)"}),"\n"]})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},4737:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/activities-06cf8f21c8dcb08107540d667046d728.png"},8278:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/implicit_intent-73c899dd52e2bb7598da3d37e60d7a0d.png"},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var i=n(6540);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);